[{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":null,"dir":"","previous_headings":"","what":"AGENTS.md ‚Äî Guidance for AI Agents","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"file guides AI code-generation agents working R package.","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"id_-project-structure","dir":"","previous_headings":"","what":"üß© Project Structure","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"R/ ‚Äî R functions man/ ‚Äî roxygen-generated documentation tests/testthat/ ‚Äî unit tests vignettes/ ‚Äî usage guides (knitr) data/ ‚Äî included datasets .github/workflows/ ‚Äî CI pipelines (R CMD check, linting, pkgdown) _pkgdown.yml ‚Äî site configuration (deployed gh-pages)","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"id_-coding--style-conventions","dir":"","previous_headings":"","what":"üî® Coding & Style Conventions","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"Language, naming, comments, commit messages English . Use roxygen2 (e.g.¬†#' @param, @return) documentation. Follow tidyverse style: 2-space indent, spaces around operators. Functions variable names snake_case.","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"id_-core-coding-principles","dir":"","previous_headings":"","what":"‚úÖ Core Coding Principles","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"Prioritise clarity readability cleverness. Use pure functions clearly defined inputs outputs possible. Follow Single Responsibility Principle ‚Äî function one thing. Avoid code duplication ‚Äî use helper functions factor repeated logic. Use early returns reduce indentation nesting. Avoid deeply nested logic long functions; split logic modular components. Document every exported function consistent roxygen tags. Use @export public functions .","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"id_-testing","dir":"","previous_headings":"","what":"üìÑ Testing","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"package uses testthat unit testing: Mirror function names tests/testthat/test-*.R. Use test_that(‚Äúdescription‚Äù, { ‚Ä¶ }) blocks. Prefer multiple small, readable expectations. Mock external data randomness needed repeatability.","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"id_-pull-request-checklist","dir":"","previous_headings":"","what":"üßπ Pull Request Checklist","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"AI-generated pull requests meet criteria: clear, descriptive title summary Related issue referenced (applicable) New tests new modified functions Code passes checks Documentation updated (roxygen /vignette) changes CI, versioning, .github/ files unless requested Branch names opened PRs succinct, concise, clear","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"id_-build--release-workflow","dir":"","previous_headings":"","what":"üì¶ Build & Release Workflow","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"Update documentation: devtools::document() Run tests: devtools::test() Run package checks: devtools::check()","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"id_-scope","dir":"","previous_headings":"","what":"üî≠ Scope","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"Agents must manually edit: man/ .github/ pkgdown/ data/ data-raw/ DESCRIPTION version number Licence authorship information","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"id_-tone-and-style-guide-for-vignettes","dir":"","previous_headings":"","what":"üìñ Tone and Style Guide for Vignettes","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"Vignettes aim : Friendly accessible ‚Äî Write ‚Äôre explaining concepts informed non-expert colleague. Accurate precise ‚Äî Technical correctness essential. Avoid oversimplifying core ideas. Narrative structure ‚Äî Use clear logical flow: introduce purpose, explain context, walk examples. Example-driven ‚Äî Use realistic, well-commented examples demonstrate concepts. Wherever possible, relate examples plausible use cases.","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"do","dir":"","previous_headings":"üìñ Tone and Style Guide for Vignettes","what":"Do:","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"Use warm, professional tone: ‚ÄúLet‚Äôs explore function works‚Ä¶‚Äù Explain reasoning well code steps. Show intermediate outputs helpful. can use emoji elements help engagement","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"dont","dir":"","previous_headings":"üìñ Tone and Style Guide for Vignettes","what":"Don‚Äôt:","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"Assume deep prior knowledge package internals. Use overly casual language. Skip steps leave important arguments unexplained.","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"voice-checklist","dir":"","previous_headings":"üìñ Tone and Style Guide for Vignettes","what":"Voice checklist:","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"Conversational professional unexplained acronyms jargon Every code block context interpretation reader feel guided confident, testedTone Style Guide Vignettes","code":""},{"path":"https://mrc-ide.github.io/currentsee/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 Imperial College London Permission hereby granted, free charge, person obtaining copy software associated documentation files (‚ÄúSoftware‚Äù), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED ‚Äú‚Äù, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://mrc-ide.github.io/currentsee/articles/currentsee.html","id":"welcome","dir":"Articles","previous_headings":"","what":"Welcome","title":"Getting started with currentsee","text":"currentsee package simulates transitions malaria intervention packages renders richly annotated Sankey diagrams. vignette takes simulation interactive exploration can explore full workflow just lines code. ‚Äôre working development version package, can load : package users usual library call works:","code":"devtools::load_all() library(currentsee) #>  #> Attaching package: 'currentsee' #> The following object is masked from 'package:stats': #>  #>     simulate library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union"},{"path":"https://mrc-ide.github.io/currentsee/articles/currentsee.html","id":"simulate-transitions","dir":"Articles","previous_headings":"","what":"1. Simulate transitions","title":"Getting started with currentsee","text":"begin simulating set intervention trajectories. simulation starts ‚Äúcurrent‚Äù package configuration stochastically removes adds interventions candidates explored. resulting tibble records every step trajectory, including package string intervention changed.","code":"set.seed(1) df <- simulate(100) |>   mutate(     season = sample(c(\"perennial\", \"seasonal\"), 1),     .by = \"id\"   )  dplyr::glimpse(df) #> Rows: 500 #> Columns: 5 #> $ step    <dbl> -1, 0, 1, 2, 3, -1, 0, 1, 2, 3, -1, 0, 1, 2, 3, -1, 0, 1, 2, 3‚Ä¶ #> $ package <chr> \"cm\", \"cm, itn\", \"cm, itn, irs\", \"cm, itn, smc, irs\", \"cm, itn‚Ä¶ #> $ changed <chr> \"itn\", NA, \"irs\", \"smc\", \"vx\", \"itn\", NA, \"vx\", \"smc\", \"irs\", ‚Ä¶ #> $ id      <int> 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 5,‚Ä¶ #> $ season  <chr> \"perennial\", \"perennial\", \"perennial\", \"perennial\", \"perennial‚Ä¶"},{"path":"https://mrc-ide.github.io/currentsee/articles/currentsee.html","id":"build-sankey-inputs","dir":"Articles","previous_headings":"","what":"2. Build Sankey inputs","title":"Getting started with currentsee","text":"Next convert raw simulation node link structures required networkD3::sankeyNetwork(). Nodes represent unique package combinations, links count often move one combination next. Tooltips automatically generated summarise interventions added removed.","code":"nodes <- make_nodes(df) links <- make_links(df, nodes) colours <- make_colours(nodes$id)  head(nodes) #>                name         node_name id #> 1                cm                cm  0 #> 2           cm, itn           cm\\nitn  1 #> 3      cm, itn, irs      cm\\nitn\\nirs  2 #> 4      cm, itn, smc      cm\\nitn\\nsmc  3 #> 5 cm, itn, smc, irs cm\\nitn\\nsmc\\nirs  4 #> 6  cm, itn, smc, vx  cm\\nitn\\nsmc\\nvx  5 head(dplyr::filter(links, !is.na(next_package))) #> # A tibble: 6 √ó 10 #>   package      next_package  step value source target label id    change tooltip #>   <chr>        <chr>        <dbl> <int>  <int>  <int> <chr> <chr> <chr>  <chr>   #> 1 cm           cm, itn         -1   100      0      1 \"cm\"  0     itn    \"‚Üí: ad‚Ä¶ #> 2 cm, itn      cm, itn, irs     0    54      1      2 \"cm\\‚Ä¶ 1     irs    \"‚Üí: ad‚Ä¶ #> 3 cm, itn      cm, itn, smc     0    29      1      3 \"cm\\‚Ä¶ 1     smc    \"‚Üí: ad‚Ä¶ #> 4 cm, itn      cm, itn, vx      0    17      1      7 \"cm\\‚Ä¶ 1     vx     \"‚Üí: ad‚Ä¶ #> 5 cm, itn, irs cm, itn, sm‚Ä¶     1    41      2      4 \"cm\\‚Ä¶ 2     smc    \"‚Üí: ad‚Ä¶ #> 6 cm, itn, irs cm, itn, vx‚Ä¶     1    13      2      8 \"cm\\‚Ä¶ 2     vx     \"‚Üí: ad‚Ä¶"},{"path":"https://mrc-ide.github.io/currentsee/articles/currentsee.html","id":"create-a-static-sankey-diagram","dir":"Articles","previous_headings":"","what":"3. Create a static Sankey diagram","title":"Getting started with currentsee","text":"inputs prepared can render interactive Sankey diagram directly RStudio viewer HTML document. widget honours colour palette produced make_colours() includes rich tooltips describing transition.","code":"makes_sankey(nodes, links, colours)"},{"path":"https://mrc-ide.github.io/currentsee/articles/currentsee.html","id":"launch-the-exploration-shiny-app","dir":"Articles","previous_headings":"","what":"4. Launch the exploration Shiny app","title":"Getting started with currentsee","text":"explore data filtering controls, launch bundled Shiny app. opens default browser allows subset trajectories grouping columns provide. app keeps Sankey rendering adds dropdown selectors season column, letting compare perennial seasonal pathways side side.","code":"launch_step_app(df, group_cols = \"season\")"},{"path":"https://mrc-ide.github.io/currentsee/articles/currentsee.html","id":"wrap-up","dir":"Articles","previous_headings":"","what":"Wrap-up","title":"Getting started with currentsee","text":"‚Äôs need go stochastic simulations interactive Sankey visualisations currentsee. Experiment alternative weights baseline packages see flows evolve, build Shiny app create bespoke decision-support tools.","code":""},{"path":"https://mrc-ide.github.io/currentsee/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"First Last. Author, maintainer.","code":""},{"path":"https://mrc-ide.github.io/currentsee/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Last F (2025). currentsee: Package (One Line, Title Case). R package version 0.0.0.9000, https://github.com/mrc-ide/currentsee.","code":"@Manual{,   title = {currentsee: What the Package Does (One Line, Title Case)},   author = {First Last},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://github.com/mrc-ide/currentsee}, }"},{"path":"https://mrc-ide.github.io/currentsee/index.html","id":"currentsee","dir":"","previous_headings":"","what":"What the Package Does (One Line, Title Case)","title":"What the Package Does (One Line, Title Case)","text":"goal currentsee ‚Ä¶","code":""},{"path":"https://mrc-ide.github.io/currentsee/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"What the Package Does (One Line, Title Case)","text":"can install development version currentsee GitHub :","code":"# install.packages(\"pak\") pak::pak(\"mrc-ide/currentsee\")"},{"path":"https://mrc-ide.github.io/currentsee/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"What the Package Does (One Line, Title Case)","text":"basic example shows solve common problem: special using README.Rmd instead just README.md? can include R chunks like : ‚Äôll still need render README.Rmd regularly, keep README.md --date. devtools::build_readme() handy . can also embed plots, example:  case, don‚Äôt forget commit push resulting figure files, display GitHub CRAN.","code":"library(currentsee) ## basic example code summary(cars) #>      speed           dist        #>  Min.   : 4.0   Min.   :  2.00   #>  1st Qu.:12.0   1st Qu.: 26.00   #>  Median :15.0   Median : 36.00   #>  Mean   :15.4   Mean   : 42.98   #>  3rd Qu.:19.0   3rd Qu.: 56.00   #>  Max.   :25.0   Max.   :120.00"},{"path":"https://mrc-ide.github.io/currentsee/reference/launch_step_app.html","id":null,"dir":"Reference","previous_headings":"","what":"Launch the interactive step-package Sankey application ‚Äî launch_step_app","title":"Launch the interactive step-package Sankey application ‚Äî launch_step_app","text":"Start Shiny app allows interactive exploration step-package Sankey diagrams.","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/launch_step_app.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Launch the interactive step-package Sankey application ‚Äî launch_step_app","text":"","code":"launch_step_app(df, group_cols = character())"},{"path":"https://mrc-ide.github.io/currentsee/reference/launch_step_app.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Launch the interactive step-package Sankey application ‚Äî launch_step_app","text":"df Data frame containing step package summaries. group_cols Character vector grouping column names. step_col Name step column. package_col Name package column. n_col Name count column. prop_col Name proportion column.","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/launch_step_app.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Launch the interactive step-package Sankey application ‚Äî launch_step_app","text":"return value; launches Shiny application.","code":""}]
