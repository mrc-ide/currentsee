[{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":null,"dir":"","previous_headings":"","what":"AGENTS.md ‚Äî Guidance for AI Agents","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"file guides AI code-generation agents working R package.","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"id_-project-structure","dir":"","previous_headings":"","what":"üß© Project Structure","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"R/ ‚Äî R functions man/ ‚Äî roxygen-generated documentation tests/testthat/ ‚Äî unit tests vignettes/ ‚Äî usage guides (knitr) data/ ‚Äî included datasets .github/workflows/ ‚Äî CI pipelines (R CMD check, linting, pkgdown) _pkgdown.yml ‚Äî site configuration (deployed gh-pages)","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"id_-coding--style-conventions","dir":"","previous_headings":"","what":"üî® Coding & Style Conventions","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"Language, naming, comments, commit messages English . Use roxygen2 (e.g.¬†#' @param, @return) documentation. Follow tidyverse style: 2-space indent, spaces around operators. Functions variable names snake_case.","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"id_-core-coding-principles","dir":"","previous_headings":"","what":"‚úÖ Core Coding Principles","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"Prioritise clarity readability cleverness. Use pure functions clearly defined inputs outputs possible. Follow Single Responsibility Principle ‚Äî function one thing. Avoid code duplication ‚Äî use helper functions factor repeated logic. Use early returns reduce indentation nesting. Avoid deeply nested logic long functions; split logic modular components. Document every exported function consistent roxygen tags. Use @export public functions .","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"id_-testing","dir":"","previous_headings":"","what":"üìÑ Testing","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"package uses testthat unit testing: Mirror function names tests/testthat/test-*.R. Use test_that(‚Äúdescription‚Äù, { ‚Ä¶ }) blocks. Prefer multiple small, readable expectations. Mock external data randomness needed repeatability.","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"id_-pull-request-checklist","dir":"","previous_headings":"","what":"üßπ Pull Request Checklist","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"AI-generated pull requests meet criteria: clear, descriptive title summary Related issue referenced (applicable) New tests new modified functions Code passes checks Documentation updated (roxygen /vignette) changes CI, versioning, .github/ files unless requested Branch names opened PRs succinct, concise, clear","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"id_-build--release-workflow","dir":"","previous_headings":"","what":"üì¶ Build & Release Workflow","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"Update documentation: devtools::document() Run tests: devtools::test() Run package checks: devtools::check()","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"id_-scope","dir":"","previous_headings":"","what":"üî≠ Scope","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"Agents must manually edit: man/ .github/ pkgdown/ data/ data-raw/ DESCRIPTION version number Licence authorship information","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"id_-tone-and-style-guide-for-vignettes","dir":"","previous_headings":"","what":"üìñ Tone and Style Guide for Vignettes","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"Vignettes aim : Friendly accessible ‚Äî Write ‚Äôre explaining concepts informed non-expert colleague. Accurate precise ‚Äî Technical correctness essential. Avoid oversimplifying core ideas. Narrative structure ‚Äî Use clear logical flow: introduce purpose, explain context, walk examples. Example-driven ‚Äî Use realistic, well-commented examples demonstrate concepts. Wherever possible, relate examples plausible use cases.","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"do","dir":"","previous_headings":"üìñ Tone and Style Guide for Vignettes","what":"Do:","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"Use warm, professional tone: ‚ÄúLet‚Äôs explore function works‚Ä¶‚Äù Explain reasoning well code steps. Show intermediate outputs helpful. can use emoji elements help engagement","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"dont","dir":"","previous_headings":"üìñ Tone and Style Guide for Vignettes","what":"Don‚Äôt:","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"Assume deep prior knowledge package internals. Use overly casual language. Skip steps leave important arguments unexplained.","code":""},{"path":"https://mrc-ide.github.io/currentsee/AGENTS.html","id":"voice-checklist","dir":"","previous_headings":"üìñ Tone and Style Guide for Vignettes","what":"Voice checklist:","title":"AGENTS.md ‚Äî Guidance for AI Agents","text":"Conversational professional unexplained acronyms jargon Every code block context interpretation reader feel guided confident, testedTone Style Guide Vignettes","code":""},{"path":"https://mrc-ide.github.io/currentsee/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 Imperial College London Permission hereby granted, free charge, person obtaining copy software associated documentation files (‚ÄúSoftware‚Äù), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED ‚Äú‚Äù, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://mrc-ide.github.io/currentsee/articles/currentsee.html","id":"welcome","dir":"Articles","previous_headings":"","what":"Welcome","title":"Getting started with currentsee","text":"currentsee package simulates transitions malaria intervention packages renders richly annotated Sankey diagrams. vignette takes simulation interactive exploration can explore full workflow just lines code. package users usual library call works:","code":""},{"path":"https://mrc-ide.github.io/currentsee/articles/currentsee.html","id":"simulate-transitions","dir":"Articles","previous_headings":"","what":"1. Simulate transitions","title":"Getting started with currentsee","text":"begin simulating data adding mock grouping variable ‚Äúseasonality‚Äù required columns include: step integer vector. current package 0, steps negative positive. package character string indicating name package specified comma separated concatenation interventions package. rendering sankey labels, individual interventions stacked vertically. changed character string indication intervention added removed step. id unqiue, interger identifier pathway Additional columns grouping variables. minimum, likely want include current package grouping variable. resulting data.frame records every step trajectory, including package string intervention changed.","code":"set.seed(1) df <- simulate(100) |>   mutate(     season = sample(c(\"perennial\", \"seasonal\"), 1),     .by = \"id\"   )  dplyr::glimpse(df) #> Rows: 500 #> Columns: 6 #> $ step    <dbl> -1, 0, 1, 2, 3, -1, 0, 1, 2, 3, -1, 0, 1, 2, 3, -1, 0, 1, 2, 3‚Ä¶ #> $ package <chr> \"cm\", \"cm, itn\", \"cm, itn, irs\", \"cm, itn, irs, chem\", \"cm, it‚Ä¶ #> $ changed <chr> \"itn\", NA, \"irs\", \"chem\", \"vaccine\", \"itn\", NA, \"vaccine\", \"ch‚Ä¶ #> $ id      <int> 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 5,‚Ä¶ #> $ current <chr> \"cm, itn\", \"cm, itn\", \"cm, itn\", \"cm, itn\", \"cm, itn\", \"cm, it‚Ä¶ #> $ season  <chr> \"perennial\", \"perennial\", \"perennial\", \"perennial\", \"perennial‚Ä¶"},{"path":"https://mrc-ide.github.io/currentsee/articles/currentsee.html","id":"build-sankey-inputs","dir":"Articles","previous_headings":"","what":"2. Build Sankey inputs","title":"Getting started with currentsee","text":"Next convert raw simulation node link structures required networkD3::sankeyNetwork(). Nodes represent unique package combinations, links count often move one combination next. Tooltips automatically generated summarise interventions added removed.","code":"nodes <- make_nodes(df) links <- make_links(df, nodes)  glimpse(nodes) #> Rows: 10 #> Columns: 5 #> $ name       <chr> \"cm\", \"cm, itn\", \"cm, itn, chem\", \"cm, itn, chem, vaccine\",‚Ä¶ #> $ node_name  <chr> \"cm\", \"cm\\nitn\", \"cm\\nitn\\nchem\", \"cm\\nitn\\nchem\\nvaccine\",‚Ä¶ #> $ tooltip    <chr> \"100%\", \"100%\", \"29%\", \"15%\", \"54%\", \"62%\", \"100%\", \"23%\", ‚Ä¶ #> $ package_id <chr> \"1\", \"8\", \"9\", \"10\", \"11\", \"12\", \"13\", \"14\", \"15\", NA #> $ colour     <chr> \"#AEC6CF\", \"#FFB347\", \"#F49AC2\", \"#FFDAC1\", \"#FF6961\", \"#B5‚Ä¶ glimpse(links) #> Rows: 14 #> Columns: 13 #> $ package      <chr> \"cm\", \"cm, itn\", \"cm, itn, irs\", \"cm, itn, irs, chem\", \"c‚Ä¶ #> $ next_package <chr> \"cm, itn\", \"cm, itn, irs\", \"cm, itn, irs, chem\", \"cm, itn‚Ä¶ #> $ step         <dbl> -1, 0, 1, 2, 3, 0, 1, 2, 1, 2, 1, 0, 1, 1 #> $ value        <int> 100, 54, 41, 62, 100, 17, 7, 15, 13, 23, 10, 29, 8, 21 #> $ source       <int> 0, 1, 4, 5, 6, 1, 8, 3, 4, 7, 8, 1, 2, 2 #> $ target       <int> 1, 4, 5, 6, 9, 8, 3, 6, 7, 6, 7, 2, 3, 5 #> $ label        <chr> \"cm\", \"cm\\nitn\", \"cm\\nitn\\nirs\", \"cm\\nitn\\nirs\\nchem\", \"c‚Ä¶ #> $ id           <chr> \"0\", \"1\", \"4\", \"5\", \"6\", \"1\", \"8\", \"3\", \"4\", \"7\", \"8\", \"1‚Ä¶ #> $ change       <chr> \"itn\", \"irs\", \"chem\", \"vaccine\", \"ghost\", \"vaccine\", \"che‚Ä¶ #> $ tooltip      <chr> \"‚Üí: add itn\", \"‚Üí: add irs\", \"‚Üí: add chem\", \"‚Üí: add vaccin‚Ä¶ #> $ p            <chr> \"100%\", \"54%\", \"41%\", \"62%\", \"100%\", \"17%\", \"7%\", \"15%\", ‚Ä¶ #> $ package_id   <chr> \"1\", \"8\", \"11\", \"12\", \"13\", \"8\", \"15\", \"10\", \"11\", \"14\", ‚Ä¶ #> $ colour       <chr> \"#AEC6CF\", \"#FFB347\", \"#FF6961\", \"#B5EAD7\", \"#B5B9FF\", \"#‚Ä¶"},{"path":"https://mrc-ide.github.io/currentsee/articles/currentsee.html","id":"create-a-static-sankey-diagram","dir":"Articles","previous_headings":"","what":"3. Create a static Sankey diagram","title":"Getting started with currentsee","text":"inputs prepared can render interactive Sankey diagram directly RStudio viewer HTML document. widget honours colour palette produced make_colours() includes rich tooltips describing transition.","code":"make_sankey(nodes, links)"},{"path":"https://mrc-ide.github.io/currentsee/articles/currentsee.html","id":"launch-the-exploration-shiny-app","dir":"Articles","previous_headings":"","what":"4. Launch the exploration Shiny app","title":"Getting started with currentsee","text":"explore data filtering controls, launch bundled Shiny app. opens default browser allows subset trajectories grouping columns provide. app keeps Sankey rendering adds dropdown selectors season column, letting compare perennial seasonal pathways side side.","code":"launch_step_app(df, group_cols = \"season\")"},{"path":"https://mrc-ide.github.io/currentsee/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Pete Winskill. Author, maintainer.","code":""},{"path":"https://mrc-ide.github.io/currentsee/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Winskill P (2025). currentsee: Sankey diagrams malaria CE analysis. R package version 0.0.1, https://github.com/mrc-ide/currentsee.","code":"@Manual{,   title = {currentsee: Sankey diagrams for malaria CE analysis},   author = {Pete Winskill},   year = {2025},   note = {R package version 0.0.1},   url = {https://github.com/mrc-ide/currentsee}, }"},{"path":"https://mrc-ide.github.io/currentsee/index.html","id":"currentsee","dir":"","previous_headings":"","what":"Sankey diagrams for malaria CE analysis","title":"Sankey diagrams for malaria CE analysis","text":"goal currentsee aid visulisation Sankey diagrams malaria CE prioritisation/deprioritisation pathways.","code":""},{"path":"https://mrc-ide.github.io/currentsee/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Sankey diagrams for malaria CE analysis","text":"can install development version currentsee GitHub :","code":"# install.packages(\"pak\") pak::pak(\"mrc-ide/currentsee\")"},{"path":"https://mrc-ide.github.io/currentsee/reference/add_caption.html","id":null,"dir":"Reference","previous_headings":"","what":"add_caption ‚Äî add_caption","title":"add_caption ‚Äî add_caption","text":"add_caption","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/add_caption.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"add_caption ‚Äî add_caption","text":"","code":"add_caption(   widget,   caption,   font_size = 12,   align = \"center\",   colour = \"#555\",   italic = FALSE )"},{"path":"https://mrc-ide.github.io/currentsee/reference/add_caption.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"add_caption ‚Äî add_caption","text":"widget networkD3::sankeyNetwork() htmlwidget. caption Character caption text place widget. font_size Numeric font size pixels. align Character alignment: \"left\", \"center\", \"right\". colour Character CSS colour caption text. italic Logical; TRUE, render caption italics.","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/add_linebreaks_in_labels.html","id":null,"dir":"Reference","previous_headings":"","what":"add_linebreaks_in_labels ‚Äî add_linebreaks_in_labels","title":"add_linebreaks_in_labels ‚Äî add_linebreaks_in_labels","text":"add_linebreaks_in_labels","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/add_linebreaks_in_labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"add_linebreaks_in_labels ‚Äî add_linebreaks_in_labels","text":"","code":"add_linebreaks_in_labels(widget)"},{"path":"https://mrc-ide.github.io/currentsee/reference/add_linebreaks_in_labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"add_linebreaks_in_labels ‚Äî add_linebreaks_in_labels","text":"widget networkD3::sankeyNetwork() htmlwidget.","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/add_link_tooltips.html","id":null,"dir":"Reference","previous_headings":"","what":"add_link_tooltips ‚Äî add_link_tooltips","title":"add_link_tooltips ‚Äî add_link_tooltips","text":"add_link_tooltips","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/add_link_tooltips.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"add_link_tooltips ‚Äî add_link_tooltips","text":"","code":"add_link_tooltips(widget, tooltip)"},{"path":"https://mrc-ide.github.io/currentsee/reference/add_link_tooltips.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"add_link_tooltips ‚Äî add_link_tooltips","text":"widget networkD3::sankeyNetwork() htmlwidget. tooltip Character vector tooltips, one per link (order must match Links).","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/add_node_tooltips.html","id":null,"dir":"Reference","previous_headings":"","what":"add_node_tooltips ‚Äî add_node_tooltips","title":"add_node_tooltips ‚Äî add_node_tooltips","text":"add_node_tooltips","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/add_node_tooltips.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"add_node_tooltips ‚Äî add_node_tooltips","text":"","code":"add_node_tooltips(widget, tooltip)"},{"path":"https://mrc-ide.github.io/currentsee/reference/add_node_tooltips.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"add_node_tooltips ‚Äî add_node_tooltips","text":"widget networkD3::sankeyNetwork() htmlwidget. tooltip Character vector tooltips, one per node (order must match Nodes).","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/add_title.html","id":null,"dir":"Reference","previous_headings":"","what":"add_title ‚Äî add_title","title":"add_title ‚Äî add_title","text":"add_title","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/add_title.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"add_title ‚Äî add_title","text":"","code":"add_title(widget, title, font_size = 18, align = \"center\")"},{"path":"https://mrc-ide.github.io/currentsee/reference/add_title.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"add_title ‚Äî add_title","text":"widget networkD3::sankeyNetwork() htmlwidget. title Character title text place widget. font_size Numeric font size pixels. align Character alignment: \"left\", \"center\", \"right\".","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/center_node_labels.html","id":null,"dir":"Reference","previous_headings":"","what":"center_node_labels ‚Äî center_node_labels","title":"center_node_labels ‚Äî center_node_labels","text":"center_node_labels","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/center_node_labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"center_node_labels ‚Äî center_node_labels","text":"","code":"center_node_labels(widget, nudge = 0)"},{"path":"https://mrc-ide.github.io/currentsee/reference/center_node_labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"center_node_labels ‚Äî center_node_labels","text":"widget networkD3::sankeyNetwork() htmlwidget. nudge Numeric horizontal pixel offset fine-tune centring.","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/launch_step_app.html","id":null,"dir":"Reference","previous_headings":"","what":"Launch the interactive step-package Sankey application ‚Äî launch_step_app","title":"Launch the interactive step-package Sankey application ‚Äî launch_step_app","text":"Start Shiny application allows interactive exploration simulated step-package Sankey diagrams.","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/launch_step_app.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Launch the interactive step-package Sankey application ‚Äî launch_step_app","text":"","code":"launch_step_app(df, group_cols = character())"},{"path":"https://mrc-ide.github.io/currentsee/reference/launch_step_app.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Launch the interactive step-package Sankey application ‚Äî launch_step_app","text":"df Data frame containing least id, step, package columns describing transitions. group_cols Optional character vector column names exposed filters sidebar.","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/launch_step_app.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Launch the interactive step-package Sankey application ‚Äî launch_step_app","text":"return value; function launches Shiny application.","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/launch_step_app.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Launch the interactive step-package Sankey application ‚Äî launch_step_app","text":"","code":"if (interactive()) {   df <- simulate(20)   launch_step_app(df) }"},{"path":"https://mrc-ide.github.io/currentsee/reference/make_colour_scale.html","id":null,"dir":"Reference","previous_headings":"","what":"make_colour_scale ‚Äî make_colour_scale","title":"make_colour_scale ‚Äî make_colour_scale","text":"make_colour_scale","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/make_colour_scale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"make_colour_scale ‚Äî make_colour_scale","text":"","code":"make_colour_scale(unknown = \"#cccccc\")"},{"path":"https://mrc-ide.github.io/currentsee/reference/make_colour_scale.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"make_colour_scale ‚Äî make_colour_scale","text":"unknown Character CSS colour used unmapped/unknown groups.","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/make_links.html","id":null,"dir":"Reference","previous_headings":"","what":"Build link definitions between Sankey nodes ‚Äî make_links","title":"Build link definitions between Sankey nodes ‚Äî make_links","text":"Build link definitions Sankey nodes","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/make_links.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build link definitions between Sankey nodes ‚Äî make_links","text":"","code":"make_links(x, nodes = make_nodes(x), down = FALSE)"},{"path":"https://mrc-ide.github.io/currentsee/reference/make_links.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build link definitions between Sankey nodes ‚Äî make_links","text":"x data frame containing least id, step, package columns describing package transitions simulation run. nodes Optional nodes data frame returned make_nodes(). omitted nodes derived x. Logical indicator moving frontier","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/make_links.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build link definitions between Sankey nodes ‚Äî make_links","text":"tibble describing links nodes including source, target, tooltip metadata.","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/make_nodes.html","id":null,"dir":"Reference","previous_headings":"","what":"Create nodes for a step-package Sankey diagram ‚Äî make_nodes","title":"Create nodes for a step-package Sankey diagram ‚Äî make_nodes","text":"Create nodes step-package Sankey diagram","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/make_nodes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create nodes for a step-package Sankey diagram ‚Äî make_nodes","text":"","code":"make_nodes(x)"},{"path":"https://mrc-ide.github.io/currentsee/reference/make_nodes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create nodes for a step-package Sankey diagram ‚Äî make_nodes","text":"x data frame containing least package column entry describes package combination given step.","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/make_nodes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create nodes for a step-package Sankey diagram ‚Äî make_nodes","text":"data frame columns name, node_name, id suitable use networkD3::sankeyNetwork().","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/make_nodes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create nodes for a step-package Sankey diagram ‚Äî make_nodes","text":"","code":"df <- simulate(3) make_nodes(df) #>                          name                   node_name tooltip package_id #> 1                          cm                          cm    100%          1 #> 2                     cm, itn                     cm\\nitn    100%          8 #> 3               cm, itn, chem               cm\\nitn\\nchem   66.7%          9 #> 4      cm, itn, chem, vaccine      cm\\nitn\\nchem\\nvaccine   33.3%         10 #> 5                cm, itn, irs                cm\\nitn\\nirs   33.3%         11 #> 6          cm, itn, irs, chem          cm\\nitn\\nirs\\nchem   66.7%         12 #> 7 cm, itn, irs, chem, vaccine cm\\nitn\\nirs\\nchem\\nvaccine    100%         13 #> 8                       ghost                        <NA>   ghost       <NA> #>    colour #> 1 #AEC6CF #> 2 #FFB347 #> 3 #F49AC2 #> 4 #FFDAC1 #> 5 #FF6961 #> 6 #B5EAD7 #> 7 #B5B9FF #> 8    <NA>"},{"path":"https://mrc-ide.github.io/currentsee/reference/make_sankey.html","id":null,"dir":"Reference","previous_headings":"","what":"Render a step-package Sankey diagram ‚Äî make_sankey","title":"Render a step-package Sankey diagram ‚Äî make_sankey","text":"Render step-package Sankey diagram","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/make_sankey.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Render a step-package Sankey diagram ‚Äî make_sankey","text":"","code":"make_sankey(nodes, links, ...)"},{"path":"https://mrc-ide.github.io/currentsee/reference/make_sankey.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Render a step-package Sankey diagram ‚Äî make_sankey","text":"nodes Data frame describing Sankey nodes produced make_nodes(). links Data frame describing connections nodes, typically output make_links(). ... Addtional arguments pass networkD3::sankeyNetwork()","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/make_sankey.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Render a step-package Sankey diagram ‚Äî make_sankey","text":"htmlwidgets object produced networkD3::sankeyNetwork().","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/package_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Package colour palette ‚Äî package_id","title":"Package colour palette ‚Äî package_id","text":"dataset mapping malaria intervention package combinations assigned colour codes consistent plotting visualisation across outputs.","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/package_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Package colour palette ‚Äî package_id","text":"","code":"package_id"},{"path":"https://mrc-ide.github.io/currentsee/reference/package_id.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Package colour palette ‚Äî package_id","text":"data frame 24 rows 3 variables: package Character string describing intervention package (e.g. \"cm\", \"cm, itn\"). package_id Numeric identifier package combination. colour Hexadecimal colour code associated package.","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/package_id.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Package colour palette ‚Äî package_id","text":"M3CPI project dataset","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/simulate.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate package transitions for Sankey examples ‚Äî simulate","title":"Simulate package transitions for Sankey examples ‚Äî simulate","text":"Generate stochastic sequences package adoption help demonstrate Sankey diagrams. simulation begins current packages explores removals additions packages int visited.","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/simulate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate package transitions for Sankey examples ‚Äî simulate","text":"","code":"simulate(   n,   int = c(\"cm\", \"itn\", \"irs\", \"chem\", \"vaccine\"),   current = c(\"cm\", \"itn\"),   weights = c(itn = 0.6, chem = 0.4, vaccine = 0.2, irs = 0.5) )"},{"path":"https://mrc-ide.github.io/currentsee/reference/simulate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate package transitions for Sankey examples ‚Äî simulate","text":"n Number independent simulations draw. int Character vector giving ordered set possible packages. current Character vector packages present baseline step. weights Named numeric vector selection probabilities packages int. Values lie 0 1.","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/simulate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate package transitions for Sankey examples ‚Äî simulate","text":"tibble containing one row per step simulation id.","code":""},{"path":"https://mrc-ide.github.io/currentsee/reference/simulate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate package transitions for Sankey examples ‚Äî simulate","text":"","code":"set.seed(1) simulate(2) #> # A tibble: 10 √ó 5 #>     step package                     changed    id current #>    <dbl> <chr>                       <chr>   <int> <chr>   #>  1    -1 cm                          itn         1 cm, itn #>  2     0 cm, itn                     NA          1 cm, itn #>  3     1 cm, itn, irs                irs         1 cm, itn #>  4     2 cm, itn, irs, chem          chem        1 cm, itn #>  5     3 cm, itn, irs, chem, vaccine vaccine     1 cm, itn #>  6    -1 cm                          itn         2 cm, itn #>  7     0 cm, itn                     NA          2 cm, itn #>  8     1 cm, itn, vaccine            vaccine     2 cm, itn #>  9     2 cm, itn, chem, vaccine      chem        2 cm, itn #> 10     3 cm, itn, irs, chem, vaccine irs         2 cm, itn"}]
